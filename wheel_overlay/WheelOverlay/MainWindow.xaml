<Window x:Class="WheelOverlay.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WheelOverlay"
        xmlns:vm="clr-namespace:WheelOverlay.ViewModels"
        xmlns:cv="clr-namespace:WheelOverlay.Converters"
        xmlns:v="clr-namespace:WheelOverlay.Views"
        mc:Ignorable="d"
        Title="WheelOverlay" Height="Auto" Width="Auto"
        SizeToContent="WidthAndHeight"
        Icon="app.ico"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="True">
    <Window.Resources>
        <ResourceDictionary>
            <vm:OverlayViewModel x:Key="DesignViewModel" />
            <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
            
            <DataTemplate x:Key="SingleTextTemplate">
                <v:SingleTextLayout />
            </DataTemplate>
            <DataTemplate x:Key="VerticalTemplate">
                <v:VerticalLayout />
            </DataTemplate>
            <DataTemplate x:Key="HorizontalTemplate">
                <v:HorizontalLayout />
            </DataTemplate>
            <DataTemplate x:Key="GridTemplate">
                <v:GridLayout />
            </DataTemplate>
        </ResourceDictionary>
    </Window.Resources>

    <Grid>
        <!-- Test Mode Border Wrapper -->
        <Border x:Name="TestModeBorder"
                BorderBrush="#FFFF00"
                CornerRadius="5">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="BorderThickness" Value="0" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsTestMode}" Value="True">
                            <Setter Property="BorderThickness" Value="3" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            
            <Border x:Name="ConfigBorder" BorderThickness="0" BorderBrush="Red" CornerRadius="5">
                <ContentControl Content="{Binding}">
                    <ContentControl.Style>
                        <Style TargetType="ContentControl">
                            <Setter Property="ContentTemplate" Value="{StaticResource SingleTextTemplate}" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Settings.ActiveProfile.Layout}" Value="Vertical">
                                    <Setter Property="ContentTemplate" Value="{StaticResource VerticalTemplate}" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Settings.ActiveProfile.Layout}" Value="Horizontal">
                                    <Setter Property="ContentTemplate" Value="{StaticResource HorizontalTemplate}" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Settings.ActiveProfile.Layout}" Value="Grid">
                                    <Setter Property="ContentTemplate" Value="{StaticResource GridTemplate}" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ContentControl.Style>
                </ContentControl>
            </Border>
        </Border>
    </Grid>
</Window>
